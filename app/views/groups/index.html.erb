<div class="col-md-12">
  <div class="group">
    <%= link_to("new group", new_group_path, class:"btn btn-primary pull-right")%>
  </div>
  <table class="table table-hover">
    <thead>
      <tr>
        <td>#</td>
        <td>Title</td>
        <td>Description</td>
        <td>Creator</td>
      </tr>
    </thead>
    <tbody>
      <% @groups.each do |group| %>
        <tr>
          <td>#</td>
          <td><%= link_to(group.title,group_path(group))%></td>
          <td><%= simple_format(group.description)%></td>
          <td><%= group.user.email%></td>
          <!-- 只有两个表格建立关联后，才能使用group.user.email -->
          <!-- group.user_id 和group.user.id都是输出id。但是从各自的table中拿出来的。 -->
          <td>
            <% if current_user && current_user == group.user %>
              <%= link_to("edit", edit_group_path(group),class: "btn btn-sm btn-default")%>
              <%= link_to("delete", group_path(group), class: "btn btn-sm btn-default",
                          method: :delete, data: {confirm: "Are you sure?"})%>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
